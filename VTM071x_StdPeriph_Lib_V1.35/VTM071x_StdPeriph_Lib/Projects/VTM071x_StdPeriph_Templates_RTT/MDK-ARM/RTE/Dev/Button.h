/****************************************Copyright (c)**************************************************
**                               福建师范大学物理与能源学院
**------------------------------------------------------------------------------------------------------
** 文件: Button.h 
** 版本: v1.0
**------------------------------------------------------------------------------------------------------
** 描述:
**      按键检测文件
**------------------------------------------------------------------------------------------------------
********************************************************************************************************/
#ifndef __BUTTON__H__
#define __BUTTON__H__

#define BUTTON_FILTER_TIME 	10  //单位为ms
#define BUTTON_LONG_TIME 	1000		// 持续1秒，认为长按事件


/*******************************************************************************************************
** 函数: Button_t,初始化按键变量
********************************************************************************************************/
typedef struct
{
	unsigned char  (*IsKeyDownFunc)(void); 		// 函数指针，指向判断按键是否按下的函数 
	unsigned char 	wFilterCount;							// 滤波器计数器 
	unsigned char 	wFilterTime;							// 滤波时间(最大255,表示255ms) 
	unsigned short	wLongCount;								// 长按计数器 
	unsigned short	wLongTime;								// 长按键时间, 0表示不检测长按 
	unsigned char  	byState;									// 按键当前状态（按下还是弹起） 	
	unsigned char 	byKeyCodeUp;							// 按键弹起的键值代码, 0表示不检测按键弹起 	
	unsigned char 	byKeyCodeDown;						// 按键按下的键值代码, 0表示不检测按键按下 
	unsigned char 	byKeyCodeLong;						// 按键长按的键值代码, 0表示不检测长按 	
}Button_t;


/*******************************************************************************************************
** 函数: Button_t,按键枚举变量
********************************************************************************************************/
typedef enum
{
	KEY_NONE = 0,								// 0 表示无按键事件 

	KEY1_DOWN,									// KEY1键按下 
	KEY1_UP,									// KEY1键弹起 
	KEY1_LONG,									// KEY1键长按 

	KEY2_DOWN,									// KEY2键按下 
	KEY2_UP,									// KEY2键弹起 
	KEY2_LONG,									// KEY2键长按 

	KEY3_DOWN,									// KEY3键按下 
	KEY3_UP,									// KEY3键弹起 
	KEY3_LONG,									// KEY3键长按 
/***************************************************/
//用户添加其他按键枚举信息
	
/***************************************************/
}Key_em;





/*******************************************************************************************************
** 函数: ButtonInit,Button初始化
**------------------------------------------------------------------------------------------------------
** 参数: void
** 返回: void
********************************************************************************************************/
void ButtonInit(void);
/*******************************************************************************************************
** 函数: ButtonProj,按键处理函数
**------------------------------------------------------------------------------------------------------
** 参数: void
** 返回: void
********************************************************************************************************/
void ButtonProj(void);











#endif
/********************************************************************************************************
**                            End Of File
********************************************************************************************************/
